<!-- views/partials/user_table_with_style.ejs -->

<!-- Bảng hiển thị danh sách người dùng trong container -->
<div class="user-list-container">
    <h1>Danh Sách Người Dùng</h1>
    <table>
        <thead>
            <tr>
                <th>Người dùng</th>
                <th>Tên tài khoản</th>
                <th>Mật khẩu</th>
                <th>Trạng thái</th>
                <th>Hành động</th>
            </tr>
        </thead>
        <tbody>
            <% user_list.forEach(user => { %>
                <tr>
                    <td class="user-name"><%= user.full_name %></td>
                    <td class="user-name"><%= user.user_name %></td>
                    <td class="user-password"><%= user.password %></td>
                    <% if (user.ban == 2) { %>
                        <td class="not-legal">Bị khóa</td>
                    <% }else{ %>
                        <td class="legal">Hợp lệ</td>
                    <% } %>
                    <td class="action-buttons">
                        <form action="/delete-user" method="POST" style="display:inline;">
                            <input type="hidden" name="user_name" value="<%= user.user_name %>">
                            <button type="submit" class="button delete-button">Xóa</button>
                        </form>
                        
                        <form action="/unlock-user" method="POST" style="display:inline;">
                            <input type="hidden" name="user_name" value="<%= user.user_name %>">
                            <button type="submit" class="button unlock-button" <%= user.ban !== 2 ? 'disabled' : '' %>>
                                Mở Khóa
                            </button>
                        </form>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
</div>
<style>
    /* Bao bọc toàn bộ bảng người dùng trong .user-list-container */
    .user-list-container {
        margin-left: 15%; /* căn lề trái hoàn toàn */
        text-align: left; /* Căn lề trái cho nội dung bên trong */
        width: 80%;
        padding: 20px;
        background-color: #f9f9f9;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .user-list-container h1 {
        text-align: center;
        font-size: 36px;
        color: #007BFF;
    }

    .user-list-container table {
        width: 100%;
        margin: 20px auto;
        border-collapse: collapse;
        background-color: #fff;
        border-radius: 8px;
        overflow: hidden;
    }

    .user-list-container th, .user-list-container td {
        padding: 12px;
        text-align: left;
        border: 1px solid #ddd;
        transition: background-color 0.3s ease, color 0.3s ease;
    }

    .user-list-container th {
        background-color: #007BFF;
        color: white;
        font-size: 18px;
    }

    /* .user-list-container td { */
        /* background-color: #f9f9f9;
        font-weight: bold;
        font-size: 16px;
        color: #333; */
    /* } */

    .user-list-container tr:hover {
        background-color: #e0f7fa;
        transform: scale(1.02);
    }

    .user-list-container .action-buttons {
        display: flex;
        justify-content: space-around;
    }

    .user-list-container .button {
        padding: 6px 12px;
        border: none;
        cursor: pointer;
        margin-right: 10px;
        font-size: 14px;
        border-radius: 5px;
        transition: background-color 0.3s, transform 0.3s;
    }

    .user-list-container .delete-button {
        background-color: #dc3545;
        color: white;
    }

    .user-list-container .delete-button:hover {
        background-color: #c82333;
        transform: scale(1.05);
    }

    .user-list-container .unlock-button {
        background-color: #28a745;
        color: white;
    }

    .user-list-container .unlock-button:disabled {
        background-color: #cccccc; /* Màu nền xám cho nút khi vô hiệu hóa */
        cursor: not-allowed; /* Đổi con trỏ thành không cho phép khi nút bị vô hiệu hóa */
    }

    .user-list-container .unlock-button:hover:not(:disabled) {
        background-color: #218838; /* Màu nền khi hover và nút không bị vô hiệu hóa */
        transform: scale(1.05); /* Phóng to nút khi hover */
    }

    .user-list-container .unlock-button:disabled:hover {
        background-color: #cccccc; /* Giữ màu xám khi hover nếu nút bị vô hiệu hóa */
    }

    .user-list-container table tr:nth-child(even) td {
        background-color: #f2f2f2;
    }

    .user-list-container table tr:nth-child(odd) td {
        background-color: #ffffff;
    }

    .user-list-container table td,
    .user-list-container table th {
        text-align: center;
    }

    .user-list-container .button:focus {
        outline: none;
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
    }

    .user-name {
        color: #007BFF;
        font-weight: bold;
    }

    .user-password {
        color: #007BFF;
        font-weight: bold;
    }

    .legal {
        color: #03701c;
        font-weight: bold;
    }

    .not-legal {
        color: #c82333;
        font-weight: bold;
    }
</style>
